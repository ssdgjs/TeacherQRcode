# ğŸ‰ v0.3.0 - AIè‹±è¯­ä½œä¸šç”Ÿæˆ

## âœ… å®Œæˆæƒ…å†µ

### AIæœåŠ¡é›†æˆ
- âœ… é›†æˆæ™ºè°±AI GLM-4-Flashæ¨¡å‹
- âœ… åˆ›å»ºAIæœåŠ¡å±‚ï¼ˆai_service.pyï¼‰
- âœ… å®ç°6ç§è‹±è¯­é¢˜å‹ç”Ÿæˆ
- âœ… Promptå·¥ç¨‹ä¼˜åŒ–
- âœ… JSONæ ¼å¼è¾“å‡º
- âœ… é‡è¯•æœºåˆ¶ï¼ˆ3æ¬¡ï¼‰
- âœ… é”™è¯¯å¤„ç†

### æ”¯æŒçš„é¢˜å‹
1. **ğŸ“ é€‰æ‹©é¢˜**ï¼ˆMultiple Choiceï¼‰
   - 4ä¸ªé€‰é¡¹ï¼ˆA/B/C/Dï¼‰
   - é¢˜å¹² + ç­”æ¡ˆ + è§£æ
   - è€ƒæŸ¥è¯­æ³•ã€è¯æ±‡ã€ç†è§£

2. **âœï¸ å¡«ç©ºé¢˜**ï¼ˆFill in the Blanksï¼‰
   - å¥å­å¡«ç©ºï¼ˆç”¨___æ ‡è®°ï¼‰
   - è€ƒæŸ¥è¯­æ³•ç‚¹ã€è¯æ±‡ã€çŸ­è¯­
   - æ”¯æŒå¤šä¸ªæ­£ç¡®ç­”æ¡ˆ

3. **âœ… åˆ¤æ–­é¢˜**ï¼ˆTrue/Falseï¼‰
   - çŸ¥è¯†åˆ¤æ–­
   - è€ƒæŸ¥è¯­æ³•è§„åˆ™ã€è¯æ±‡ç”¨æ³•ã€æ–‡åŒ–çŸ¥è¯†

4. **ğŸ“– é˜…è¯»ç†è§£**ï¼ˆReading Comprehensionï¼‰
   - 150-250è¯æ–‡ç« 
   - æ¯ç¯‡3-5é“é¢˜
   - ç»†èŠ‚ã€æ¨ç†ã€è¯ä¹‰ã€ä¸»æ—¨é¢˜

5. **ğŸ§ å¬åŠ›é¢˜**ï¼ˆListening - ä»…æ–‡æœ¬ï¼‰
   - 50-100è¯å¯¹è¯/ç‹¬ç™½
   - è€ƒæŸ¥å¬åŠ›ç†è§£èƒ½åŠ›
   - æ³¨æ„ï¼šéŸ³é¢‘ç”Ÿæˆåœ¨v0.4.0

6. **âœï¸ ä½œæ–‡**ï¼ˆEssay Writingï¼‰
   - é¢˜ç›® + è¦æ±‚ + å­—æ•°
   - èŒƒæ–‡ï¼ˆ80-120è¯ï¼‰
   - è¯„åˆ†è¦ç‚¹ï¼ˆ3-5æ¡ï¼‰

### APIç«¯ç‚¹
- `POST /api/v1/homework/generate` - AIç”Ÿæˆä½œä¸š
  - ç”Ÿæˆå‰æ£€æŸ¥é¢åº¦
  - ç”ŸæˆæˆåŠŸåæ¶ˆè´¹1æ¬¡
  - è¿”å›ç»“æ„åŒ–é¢˜ç›®æ•°æ®
- `GET /generate` - AIç”Ÿæˆç•Œé¢
- `GET /api/v1/ai/test` - æµ‹è¯•AIè¿æ¥

### å‰ç«¯ç•Œé¢
- âœ… ç°ä»£åŒ–é…ç½®é¢æ¿
- âœ… å¹´çº§é€‰æ‹©ï¼ˆå°å­¦/åˆä¸­/é«˜ä¸­ï¼‰
- âœ… ä¸»é¢˜è¾“å…¥
- âœ… éš¾åº¦é€‰æ‹©ï¼ˆç®€å•/ä¸­ç­‰/å›°éš¾ï¼‰
- âœ… é¢˜å‹å¡ç‰‡é€‰æ‹©ï¼ˆå¤é€‰æ¡†+æ•°é‡ï¼‰
- âœ… å®æ—¶åŠ è½½çŠ¶æ€
- âœ… ç¾è§‚çš„ç»“æœå±•ç¤º
- âœ… æŠ˜å å¼ç­”æ¡ˆè§£æ

### é¢åº¦é›†æˆ
- âœ… ç”Ÿæˆå‰è‡ªåŠ¨æ£€æŸ¥é¢åº¦
- âœ… é¢åº¦ä¸è¶³è¿”å›403
- âœ… ç”ŸæˆæˆåŠŸåè‡ªåŠ¨æ‰£å‡
- âœ… æ˜¾ç¤ºå‰©ä½™é¢åº¦

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è·å–æ™ºè°±AI APIå¯†é’¥

```bash
# è®¿é—®æ™ºè°±AIå®˜ç½‘
https://open.bigmodel.cn/

# æ³¨å†Œ/ç™»å½•åï¼Œè·å–APIå¯†é’¥
# å¤åˆ¶API Keyåˆ° .env æ–‡ä»¶
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
# ç¼–è¾‘ .env æ–‡ä»¶
ZHIPU_API_KEY=your-api-key-here

# é‡å¯æœåŠ¡
docker-compose restart
```

### 3. æµ‹è¯•AIè¿æ¥

```bash
# ç™»å½•åæµ‹è¯•
curl http://localhost:8000/api/v1/ai/test \
  -H "Authorization: Bearer $TOKEN"

# é¢„æœŸå“åº”ï¼š
# {
#   "success": true,
#   "data": {
#     "connected": true,
#     "model": "glm-4-flash"
#   }
# }
```

### 4. ç”Ÿæˆä½œä¸š

**æ–¹å¼1ï¼šä½¿ç”¨Webç•Œé¢**
1. è®¿é—® http://localhost:8000/generate
2. é€‰æ‹©å¹´çº§ã€è¾“å…¥ä¸»é¢˜ã€é€‰æ‹©éš¾åº¦
3. å‹¾é€‰é¢˜å‹å¹¶è®¾ç½®æ•°é‡
4. ç‚¹å‡»"å¼€å§‹ç”Ÿæˆ"
5. ç­‰å¾…10-30ç§’
6. æŸ¥çœ‹ç”Ÿæˆçš„é¢˜ç›®å’Œç­”æ¡ˆ

**æ–¹å¼2ï¼šä½¿ç”¨API**
```bash
curl -X POST http://localhost:8000/api/v1/homework/generate \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "grade": "åˆä¸­äºŒå¹´çº§",
    "topic": "ç°åœ¨å®Œæˆæ—¶",
    "difficulty": "medium",
    "question_types": [
      {"type": "choice", "count": 5},
      {"type": "fill_blank", "count": 5}
    ]
  }'
```

---

## ğŸ“– Promptæ¨¡æ¿ç¤ºä¾‹

### é€‰æ‹©é¢˜Prompt
```
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è‹±è¯­æ•™å¸ˆã€‚è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚ç”Ÿæˆ5é“é€‰æ‹©é¢˜ï¼š

å¹´çº§ï¼šåˆä¸­äºŒå¹´çº§
ä¸»é¢˜ï¼šç°åœ¨å®Œæˆæ—¶
éš¾åº¦ï¼šmedium

è¦æ±‚ï¼š
1. æ¯é“é¢˜åŒ…å«ï¼šé¢˜å¹²ã€4ä¸ªé€‰é¡¹ï¼ˆA/B/C/Dï¼‰ã€æ­£ç¡®ç­”æ¡ˆã€ä¸­æ–‡è§£æ
2. è¾“å‡ºJSONæ ¼å¼
```

### ç”Ÿæˆçš„é¢˜ç›®ç¤ºä¾‹
```json
{
  "question": "I _____ my homework yet.",
  "options": [
    "A. didn't finish",
    "B. haven't finished",
    "C. don't finish",
    "D. won't finish"
  ],
  "answer": "B",
  "explanation": "è€ƒæŸ¥ç°åœ¨å®Œæˆæ—¶ã€‚yetå¸¸ç”¨äºç°åœ¨å®Œæˆæ—¶ï¼Œè¡¨ç¤ºåŠ¨ä½œå°šæœªå®Œæˆã€‚"
}
```

---

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç”Ÿæˆåˆä¸­è‹±è¯­ç°åœ¨å®Œæˆæ—¶ç»ƒä¹ 

**é…ç½®**ï¼š
- å¹´çº§ï¼šåˆä¸­äºŒå¹´çº§
- ä¸»é¢˜ï¼šç°åœ¨å®Œæˆæ—¶
- éš¾åº¦ï¼šä¸­ç­‰
- é¢˜å‹ï¼šé€‰æ‹©é¢˜5é“ + å¡«ç©ºé¢˜5é“

**ç”Ÿæˆæ—¶é—´**ï¼šçº¦15ç§’

**ç»“æœ**ï¼š
- 5é“é€‰æ‹©é¢˜ï¼ˆè€ƒæŸ¥have/has doneï¼Œalready/yetç”¨æ³•ï¼‰
- 5é“å¡«ç©ºé¢˜ï¼ˆè€ƒæŸ¥for/sinceï¼Œä¸è§„åˆ™åŠ¨è¯å˜åŒ–ï¼‰
- æ¯é“é¢˜å¸¦ç­”æ¡ˆå’Œè¯¦ç»†è§£æ

### ç¤ºä¾‹2ï¼šç”Ÿæˆé«˜ä¸­è‹±è¯­é˜…è¯»ç†è§£

**é…ç½®**ï¼š
- å¹´çº§ï¼šé«˜ä¸­äºŒå¹´çº§
- ä¸»é¢˜ï¼šç¯å¢ƒä¿æŠ¤
- éš¾åº¦ï¼šå›°éš¾
- é¢˜å‹ï¼šé˜…è¯»ç†è§£2ç¯‡

**ç”Ÿæˆæ—¶é—´**ï¼šçº¦25ç§’

**ç»“æœ**ï¼š
- 2ç¯‡é˜…è¯»æ–‡ç« ï¼ˆæ¯ç¯‡200-250è¯ï¼‰
- å…±8é“é¢˜ç›®ï¼ˆç»†èŠ‚ã€æ¨ç†ã€è¯ä¹‰ã€ä¸»æ—¨ï¼‰
- ç¬¦åˆé«˜ä¸­é˜…è¯»éš¾åº¦æ°´å¹³

---

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

1. **é«˜è´¨é‡Prompt**
   - ä¸“ä¸šè‹±è¯­æ•™å¸ˆè§’è‰²å®šä¹‰
   - Few-shotå­¦ä¹ ç¤ºä¾‹
   - æ˜ç¡®è¾“å‡ºæ ¼å¼è¦æ±‚
   - å¹´çº§é€‚åº”æ€§è°ƒæ•´

2. **ç¨³å®šæ€§ä¿éšœ**
   - 3æ¬¡é‡è¯•æœºåˆ¶
   - JSONè§£æé”™è¯¯å¤„ç†
   - APIè¶…æ—¶å¤„ç†
   - é¢åº¦å¤±è´¥å›æ»š

3. **ç”¨æˆ·ä½“éªŒ**
   - å®æ—¶åŠ è½½åé¦ˆ
   - éª¨æ¶å±ç­‰å¾…åŠ¨ç”»
   - ç¾è§‚çš„ç»“æœå±•ç¤º
   - æŠ˜å å¼ç­”æ¡ˆè§£æ

4. **æˆæœ¬ä¼˜åŒ–**
   - ä½¿ç”¨GLM-4-Flashï¼ˆæ€§ä»·æ¯”é«˜ï¼‰
   - Temperature: 0.7ï¼ˆå¹³è¡¡è´¨é‡å’Œå¤šæ ·æ€§ï¼‰
   - Max tokens: 2000ï¼ˆè¶³å¤Ÿç”Ÿæˆ20é“é¢˜ï¼‰

---

## âš ï¸ å¸¸è§é—®é¢˜

### 1. APIè¿æ¥å¤±è´¥

**é”™è¯¯**ï¼š`AIæœåŠ¡è¿æ¥å¤±è´¥`

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
echo $ZHIPU_API_KEY

# æµ‹è¯•ç½‘ç»œè¿æ¥
curl https://open.bigmodel.cn/api/paas/v4/chat/completions
```

### 2. ç”Ÿæˆçš„å†…å®¹æ ¼å¼é”™è¯¯

**é”™è¯¯**ï¼š`AIç”Ÿæˆçš„å†…å®¹æ ¼å¼é”™è¯¯ï¼Œæ— æ³•è§£æä¸ºJSON`

**åŸå› **ï¼šAIæœ‰æ—¶ä¼šè¿”å›markdownæ ¼å¼çš„JSON

**è§£å†³**ï¼šç³»ç»Ÿå·²è‡ªåŠ¨å¤„ç†ï¼Œä¼šæå–```jsonä»£ç å—ä¸­çš„å†…å®¹

### 3. ç”Ÿæˆé€Ÿåº¦æ…¢

**åŸå› **ï¼šGLM-4 APIå“åº”æ—¶é—´é€šå¸¸10-30ç§’

**ä¼˜åŒ–**ï¼š
- ä½¿ç”¨Flashæ¨¡å‹ï¼ˆæ¯”Pluså¿«ï¼‰
- å‡å°‘é¢˜ç›®æ•°é‡
- ä½¿ç”¨æ›´ç®€å•çš„ä¸»é¢˜

### 4. é¢åº¦ä¸è¶³

**é”™è¯¯**ï¼š`403 Forbidden - ä»Šæ—¥å…è´¹æ¬¡æ•°å·²ç”¨å®Œ`

**è§£å†³**ï¼š
- è´­ä¹°æ¬¡æ•°åŒ…ï¼ˆ100æ¬¡/Â¥9.9ï¼‰
- è®¢é˜…æœˆå¡ï¼ˆæ— é™æ¬¡/Â¥9.9ï¼‰
- ç­‰å¾…æ˜å¤©é‡ç½®å…è´¹é¢åº¦

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- APIè°ƒç”¨æˆåŠŸç‡ï¼š> 95%ï¼ˆè€ƒè™‘ç½‘ç»œæ³¢åŠ¨ï¼‰
- å¹³å‡ç”Ÿæˆæ—¶é—´ï¼š10-30ç§’
- JSONè§£ææˆåŠŸç‡ï¼š> 98%
- é¢˜ç›®è´¨é‡ï¼šç¬¦åˆå¹´çº§æ°´å¹³

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

**v0.4.0 - TTSå¬åŠ›éŸ³é¢‘ç”Ÿæˆ**ï¼ˆé¢„è®¡2-3å¤©ï¼‰

- [ ] é›†æˆç«å±±å¼•æ“TTS API
- [ ] ä¸ºå¬åŠ›é¢˜ç”ŸæˆéŸ³é¢‘
- [ ] æ”¯æŒç¾å¼/è‹±å¼å‘éŸ³
- [ ] æ”¯æŒè¯­é€Ÿè°ƒèŠ‚
- [ ] éŸ³é¢‘æ–‡ä»¶å­˜å‚¨å’Œç®¡ç†

---

## ğŸ“ æäº¤ä¿¡æ¯

```
commit 286d227
Author: yangfanm4mini <yangfan@yangfanm4minideMac-mini.local>
Date:   Sat Feb 8 23:30:00 2026

Implement v0.3.0 - AI English Homework Generation (Zhipu GLM-4)

- Integrated ZhipuAI GLM-4-Flash model
- 6 English question types with comprehensive prompts
- Beautiful generation interface with real-time feedback
- Quota integration with automatic consumption
```

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **æ™ºè°±AIå®˜ç½‘**ï¼šhttps://open.bigmodel.cn/
- **GLM-4æ–‡æ¡£**ï¼šhttps://open.bigmodel.cn/dev/api
- **å®šä»·**ï¼šFlashæ¨¡å‹ 0.1å…ƒ/ç™¾ä¸‡tokens

---

**Tags**: `v0.3.0`, `AI`, `GLM-4`, `homework-generation`, `ZhipuAI`
